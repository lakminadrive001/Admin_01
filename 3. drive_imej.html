<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <title>Drive Link to Profile Link Converter</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 20px; background: #f0f2f5; text-align: center; }
        .box { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: inline-block; width: 100%; max-width: 600px; }
        input { width: 95%; padding: 12px; margin: 15px 0; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; outline: none; }
        input:focus { border-color: #ff6a00; }
        .result-container { margin-top: 20px; text-align: left; }
        .result { padding: 15px; background: #fff8f4; border: 1px dashed #ff6a00; border-radius: 8px; word-break: break-all; font-family: 'Courier New', monospace; min-height: 25px; color: #333; }
        .copy-btn { margin-top: 15px; padding: 12px 30px; background: #ff6a00; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; }
        .status { color: #01875f; font-size: 14px; margin-top: 10px; display: none; text-align: center; font-weight: bold; }
    </style>
</head>
<body>

<div class="box">
    <h3>Drive Link to Profile Format</h3>
    <p>Google Drive ලින්ක් එක මෙතනට Paste කරන්න:</p>
    
    <input type="text" id="driveInput" oninput="convertLink()" placeholder="https://drive.google.com/file/d/xxxx...">

    <div class="result-container">
        <strong>සකස් වූ ලින්ක් එක:</strong>
        <div id="output" class="result">ලින්ක් එකක් ඇතුළත් කරන්න...</div>
        
        <button class="copy-btn" onclick="copyResult()">Copy Link Only</button>
        <div id="copyNotice" class="status">Copied to Clipboard! ✓</div>
    </div>
</div>

<script>
    function convertLink() {
        const input = document.getElementById('driveInput').value;
        const outputDiv = document.getElementById('output');
        
        // Google Drive ලින්ක් එකේ මැද තියෙන File ID එක වෙන් කරගැනීම
        const regex = /\/d\/([^/]+)\//;
        const match = input.match(regex);

        if (match && match[1]) {
            const fileId = match[1];
            // 3. ඔයා ඉල්ලපු විදියටම ලින්ක් එක Edit කරලා සාදනවා
            const finalLink = `https://lh3.googleusercontent.com/d/${fileId}`;
            outputDiv.innerText = finalLink;
        } else {
            outputDiv.innerText = "කරුණාකර නිවැරදි Drive ලින්ක් එකක් ඇතුළත් කරන්න.";
        }
    }

    function copyResult() {
        const text = document.getElementById('output').innerText;
        if (text.includes("http")) {
            navigator.clipboard.writeText(text).then(() => {
                const notice = document.getElementById('copyNotice');
                notice.style.display = 'block';
                setTimeout(() => { notice.style.display = 'none'; }, 2000);
            });
        }
    }
</script>

</body>
</html>